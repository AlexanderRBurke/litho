<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-44373548-28","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Litho" href="/opensearch.xml"><title data-react-helmet="true">Debugging Tips | Litho</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://fblitho.com/docs/debugging-tips/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Debugging Tips | Litho"><meta data-react-helmet="true" name="description" content="Layout Inspector Plugin"><meta data-react-helmet="true" property="og:description" content="Layout Inspector Plugin"><link data-react-helmet="true" rel="shortcut icon" href="/images/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://fblitho.com/docs/debugging-tips/"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/debugging-tips/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fblitho.com/docs/debugging-tips/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.3f64508b.css">
<link rel="preload" href="/assets/js/runtime~main.71ba95c3.js" as="script">
<link rel="preload" href="/assets/js/main.0ed1c32a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/images/logo.svg" alt="Litho Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Litho</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/intro/motivation/">Docs</a><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a><a class="navbar__item navbar__link" href="/docs/tutorial/overview/">Tutorial</a><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">What is Litho?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tutorial</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Main Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Building lists</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Widgets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Debugging</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/debugging-tips/">Debugging Tips</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developer Tools</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Testing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Animations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Accessibility</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Performance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Deep Dive</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_1lV3"><div class="docItemContainer_zt2Y"><article><header><h1 class="docTitle_1y8q">Debugging Tips</h1></header><div class="markdown"><header><h1>Flipper</h1></header><h2 class="anchor anchorWithStickyNavbar_31ik" id="layout-inspector-plugin">Layout Inspector Plugin<a aria-hidden="true" class="hash-link" href="#layout-inspector-plugin" title="Direct link to heading">​</a></h2><p>To setup the Layout Inspector Plugin in your project, please follow <a href="https://fbflipper.com/docs/setup/plugins/inspector/" target="_blank" rel="noopener noreferrer">this guide from the official Flipper docs</a>.</p><p>Thanks to Layout Inspector Plugin you can inspect what views the hierarchy is made up of as well as what properties each view has.
The Layout Tab presents components in the hierarchy just as if they were native views, on the right hand side you can see all of the properties and state of the given view.
If you hover over a view or a component in Flipper, the corresponding item will be highlighted in your app.
This is perfect for debugging the bounds of your views and making sure you have the correct visual padding.</p><p><img alt="Highlight in Flipper" src="/assets/images/debugging-flipper-highlight-bf5ef834d269789cdc7ad996155c491d.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="quick-edits">Quick Edits<a aria-hidden="true" class="hash-link" href="#quick-edits" title="Direct link to heading">​</a></h3><p>The Layout Inspector not only allows you to view the hierarchy and inspect each item&#x27;s properties,
but it also allows you to edit things such as layout attributes, background colors, props, and state.
This allows you to quickly tweak paddings, margins, and colors until you are happy with them, all without re-compiling.
This can save you many hours implementing a new design.</p><p>To edit property, simply find the view through the layout hierarchy and edit it&#x27;s properties on the right hand side panel:</p><div display="block"><video src="https://lookaside.internalfb.com/intern/pixelcloudnew/asset/?id=585510272692142" controls="" preload="auto" width="100%"></video></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="target-mode">Target mode<a aria-hidden="true" class="hash-link" href="#target-mode" title="Direct link to heading">​</a></h3><p>Enable Target Mode by clicking on the crosshairs icon. Now, you can touch any view on the device and Layout Inspector will jump to the correct position within your layout hierarchy.</p><div display="block"><video src="https://lookaside.internalfb.com/intern/pixelcloudnew/asset/?id=232484772246926" controls="" preload="auto" width="100%"></video></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="accessibility-mode">Accessibility Mode<a aria-hidden="true" class="hash-link" href="#accessibility-mode" title="Direct link to heading">​</a></h3><p>Enable Accessibility Mode by clicking on the accessibility icon. This will show accessibility view hierarchy next to the normal hierarchy.
This shows the accessibility view hierarchy next to the normal hierarchy.
In the hierarchy, the currently accessibility-focused view is highlighted in green and any accessibility-focusable elements have a green icon next to their name.
When accessibility mode is enabled, the sidebar will show special properties that are used by accessibility services to determine their functionality.
This includes things like content-description, clickable, focusable, and long-clickable among others.</p><p><img alt="Accessibility in Flipper" src="/assets/images/debugging-flipper-accessibility-0bed7aeb1369b7078ee39e3f46daf03d.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="talkback">Talkback<a aria-hidden="true" class="hash-link" href="#talkback" title="Direct link to heading">​</a></h3><p>The accessibility mode sidebar also includes a panel with properties derived specifically to show Talkback&#x27;s interpretation of a view (with logic ported over from Google&#x27;s Talkback source).
While generally accurate, this is not guaranteed to be accurate for all situations. It is always better to turn Talkback on for verification.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="sections-plugin">Sections Plugin<a aria-hidden="true" class="hash-link" href="#sections-plugin" title="Direct link to heading">​</a></h2><p>The plugin provides a view into sections tree generations and lifecycle events, that render content on the screen.
With Sections Plugin you can:</p><ul><li>Track Sections lifecycle events</li><li>Show a stack trace for each state update that occurs in the section hierarchy</li><li>Visualize the Sections tree hierarchies</li><li>Inspect Render Sections hierarchies.</li><li>Inspect Sections generated and applied changesets</li></ul><p>Once you open the plugin it will starting listening for all sections events that are triggered by the Sections.
This might slow down the interaction with the app at first but it should be smooth after the first event has been tracked.</p><p>The plugin rationale is to create a collection of events that come with an attached stack trace.
Every event can hold different information that is rendered on screen through either the Tree Data port view or the left Sidebar.</p><p><img alt="Sections in Flipper" src="/assets/images/debugging-flipper-sections-d5f49911949d9d2a9ff9a13c3993c09c.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="events-dashboard">Events dashboard<a aria-hidden="true" class="hash-link" href="#events-dashboard" title="Direct link to heading">​</a></h3><p>It collects all the relevant events that are sent by the section component tracker,
the object responsible to manage the lifecycle events of a Sections hierarchy, and the Sections tree analytics listener,
responsible to deliver information about the build steps for each tree generation.</p><p>Depending on the event that is selected different information come available to the user.</p><p><img alt="Events dashboard" src="/assets/images/debugging-flipper-sections-dashboard-d09d3e9659beaec77c1df9390937a369.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="stack-trace">Stack Trace<a aria-hidden="true" class="hash-link" href="#stack-trace" title="Direct link to heading">​</a></h3><p>For each event that gets selected, a stack trace is attached to it such that you can trace back who triggered the selected event.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="tree-data">Tree Data<a aria-hidden="true" class="hash-link" href="#tree-data" title="Direct link to heading">​</a></h3><p>This visualizes the available tree generation that comes with the selected event.
You can analyse each item state between events and find information if the item was:</p><ul><li>removed</li><li>inserted</li><li>updated</li><li>reused</li></ul><p><img alt="TreeData for Sections" src="/assets/images/debugging-flipper-sections-tree-8ba6b0d670297de5bd2d6e59f222105f.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="changeset-information">Changeset Information<a aria-hidden="true" class="hash-link" href="#changeset-information" title="Direct link to heading">​</a></h3><p>After a completed tree generation, every Section Component part of the Sections tree is queried for returning its changeset.</p><p>Changesets are reported on the right sidebar with information about the type of the change, they can be really useful in analysing what is happening with your Section:</p><ul><li>Insert</li><li>Insert Range</li><li>Update</li><li>Update Range</li><li>Delete</li><li>Delete Range</li><li>Move</li></ul><p><img alt="Sections Changeset" src="/assets/images/debugging-flipper-sections-changeset-ad72da7bb3cb777dee53650dc392f6a1.png"></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="enable-debugging-logs">Enable Debugging Logs<a aria-hidden="true" class="hash-link" href="#enable-debugging-logs" title="Direct link to heading">​</a></h2><p>Currently there are 3 places where we can change the boolean value to see more useful logs in logcat:</p><ol><li><p><a href="/javadoc/com/facebook/litho/widget/SectionsDebug.html" target="_blank" rel="noopener noreferrer">SectionsDebug</a> -
turning on the <code>ENABLED</code> flag will enable the logs with the changesets that were calculated and expose which items were inserted, removed, updated or moved in your list.
This can help answer questions like <em>Why was my item re-rendered when nothing changed?</em>.</p></li><li><p><a href="/javadoc/com/facebook/litho/ComponentTree.html" target="_blank" rel="noopener noreferrer">ComponentTree</a> -
turning on the <code>DEBUG_LOGS</code> flag will enable the logs from <code>ComponentTree</code> class responsible for calculating, resolving, measuring and flattening the layout.
This can help answer questions like <em>Why the UI is not updating?</em> (possible Layout calculation issue), <em>Why my component is not visible, but it is showing up in the Flipper?</em> (Possible Mounting problem where <code>mount</code> wasn’t called for the layout result)</p></li><li><p><a href="/javadoc/com/facebook/litho/AnimationsDebug.html" target="_blank" rel="noopener noreferrer">AnimationsDebug</a> -
turning on the <code>ENABLED</code> flag will enable the logs related to the Animations and Transitions.</p></li></ol></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div></div><br><div class="row"><div class="col"><a href="https://github.com/facebook/litho/edit/master/website/../docs/debugging-tips.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/widgets/builtin-widgets/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Built-in widgets</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/devtools/android-studio-plugin/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Android Studio Plugin<!-- --> »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#layout-inspector-plugin" class="table-of-contents__link toc-highlight">Layout Inspector Plugin</a><ul><li><a href="#quick-edits" class="table-of-contents__link toc-highlight">Quick Edits</a></li><li><a href="#target-mode" class="table-of-contents__link toc-highlight">Target mode</a></li><li><a href="#accessibility-mode" class="table-of-contents__link toc-highlight">Accessibility Mode</a></li><li><a href="#talkback" class="table-of-contents__link toc-highlight">Talkback</a></li></ul></li><li><a href="#sections-plugin" class="table-of-contents__link toc-highlight">Sections Plugin</a><ul><li><a href="#events-dashboard" class="table-of-contents__link toc-highlight">Events dashboard</a></li><li><a href="#stack-trace" class="table-of-contents__link toc-highlight">Stack Trace</a></li><li><a href="#tree-data" class="table-of-contents__link toc-highlight">Tree Data</a></li><li><a href="#changeset-information" class="table-of-contents__link toc-highlight">Changeset Information</a></li></ul></li><li><a href="#enable-debugging-logs" class="table-of-contents__link toc-highlight">Enable Debugging Logs</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/">Getting Started</a></li><li class="footer__item"><a href="/javadoc" target="_blank" rel="noopener noreferrer" class="footer__link-item">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Open Source</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/contributing/">How To Contribute</a></li><li class="footer__item"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Source Projects<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/litho" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/fblitho" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/images/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2021 Facebook, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.71ba95c3.js"></script>
<script src="/assets/js/main.0ed1c32a.js"></script>
</body>
</html>