"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8045],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>c,MDXProvider:()=>s,mdx:()=>h,useMDXComponents:()=>d,withMDXComponents:()=>p});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=r.createContext({}),p=function(e){return function(n){var t=d(n.components);return r.createElement(e,o({},n,{components:t}))}},d=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=d(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=m(e,["components","mdxType","originalType","parentName"]),p=d(t),s=a,f=p["".concat(i,".").concat(s)]||p[s]||u[s]||o;return t?r.createElement(f,l(l({ref:n},c),{},{components:t})):r.createElement(f,l({ref:n},c))}));function h(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=f;var l={};for(var m in n)hasOwnProperty.call(n,m)&&(l[m]=n[m]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},57822:(e,n,t)=>{t.r(n),t.d(n,{frontMatter:()=>l,contentTitle:()=>m,metadata:()=>c,toc:()=>p,default:()=>s});var r=t(87462),a=t(63366),o=(t(67294),t(3905)),i=["components"],l={id:"incremental-mount",title:"Incremental Mount"},m=void 0,c={unversionedId:"deep-dive/incremental-mount",id:"deep-dive/incremental-mount",isDocsHomePage:!1,title:"Incremental Mount",description:"This page was moved from the old website without any change and might be updated",source:"@site/../docs/deep-dive/incremental-mount.md",sourceDirName:"deep-dive",slug:"/deep-dive/incremental-mount",permalink:"/docs/deep-dive/incremental-mount",editUrl:"https://github.com/facebook/litho/edit/master/website/../docs/deep-dive/incremental-mount.md",tags:[],version:"current",frontMatter:{id:"incremental-mount",title:"Incremental Mount"},sidebar:"mainSidebar",previous:{title:"Enabling Reconciliation",permalink:"/docs/deep-dive/reconciliation/enabling-reconciliation"},next:{title:"Annotation Processor Debugging",permalink:"/docs/annotation-processor-debugging"}},p=[{value:"Manual incremental mount",id:"manual-incremental-mount",children:[],level:2}],d={toc:p};function s(e){var n=e.components,l=(0,a.Z)(e,i);return(0,o.mdx)("wrapper",(0,r.Z)({},d,l,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,o.mdx)("h5",{parentName:"div"},(0,o.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,o.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Content will be updated")),(0,o.mdx)("div",{parentName:"div",className:"admonition-content"},(0,o.mdx)("p",{parentName:"div"},"This page was moved from the old website without any change and might be updated"))),(0,o.mdx)("p",null,"Even though components provide flatter view hierarchies and perform ",(0,o.mdx)("a",{parentName:"p",href:"/docs/asynchronous-layout"},"layout off the main thread"),", the mount operation (creating, recycling and attaching views and drawables) can still have a cost in the UI thread for very complex components, especially for the ones containing many views."),(0,o.mdx)("p",null,"Litho can transparently spread the cost of mounting components across UI frames to avoid jank."),(0,o.mdx)("p",null,"With incremental mount enabled (which it is by default), the ",(0,o.mdx)("inlineCode",{parentName:"p"},"LithoView")," will only mount enough content to fill its visible region and unmount (and recycle) components that are no longer visible."),(0,o.mdx)("p",null,(0,o.mdx)("img",{alt:"Incremental Mount Diagram",src:t(78010).Z})),(0,o.mdx)("p",null,"If you are using ",(0,o.mdx)("inlineCode",{parentName:"p"},"RecyclerCollectionComponent"),", the framework will seamlessly perform incremental mount."),(0,o.mdx)("h2",{id:"manual-incremental-mount"},"Manual incremental mount"),(0,o.mdx)("p",null,"If you're not using the ",(0,o.mdx)("a",{parentName:"p",href:"pathname:///javadoc/com/facebook/litho/widget/Recycler.html"},"Recycler")," component, you can still integrate incremental mount in your existing UI implementation. You'll have to explicitly notify the framework every time the ",(0,o.mdx)("inlineCode",{parentName:"p"},"LithoView"),"'s visible region changes, by calling:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-java"},"myLithoView.performIncrementalMount();\n")),(0,o.mdx)("p",null,"For example, you'd call ",(0,o.mdx)("inlineCode",{parentName:"p"},"performIncrementalMount()")," in an ",(0,o.mdx)("inlineCode",{parentName:"p"},"OnScrollListener")," if you're using components in a ",(0,o.mdx)("inlineCode",{parentName:"p"},"ListView"),"."))}s.isMDXComponent=!0},78010:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/incremental-mount-c3788c2981ecf94f60f8a39c43b2452c.png"}}]);