"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8694,4957,8723,8e3],{3905:(e,t,n)=>{n.r(t),n.d(t,{MDXContext:()=>c,MDXProvider:()=>u,mdx:()=>f,useMDXComponents:()=>d,withMDXComponents:()=>p});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=a.createContext({}),p=function(e){return function(t){var n=d(t.components);return a.createElement(e,r({},t,{components:n}))}},d=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(n),u=o,h=p["".concat(l,".").concat(u)]||p[u]||m[u]||r;return n?a.createElement(h,i(i({ref:t},c),{},{components:n})):a.createElement(h,i({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=h;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},58215:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67294);const o=function(e){var t=e.children,n=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:o},t)}},55064:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(87462),o=n(67294),r=n(72389),l=n(79443);const i=function(){var e=(0,o.useContext)(l.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e};var s=n(83039),c=n(86010);const p="tabItem_1uMI";function d(e){var t,n,a,r=e.lazy,l=e.block,d=e.defaultValue,u=e.values,m=e.groupId,h=e.className,f=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=u?u:f.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),y=(0,s.duplicates)(v,(function(e,t){return e.value===t.value}));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var g=null===d?d:null!=(t=null!=d?d:null==(n=f.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(a=f[0])?void 0:a.props.value;if(null!==g&&!v.some((function(e){return e.value===g})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=i(),x=b.tabGroupChoices,k=b.setTabGroupChoices,C=(0,o.useState)(g),w=C[0],N=C[1],S=[],E=(0,s.useScrollPositionBlocker)().blockElementScrollPositionUntilNextRender;if(null!=m){var O=x[m];null!=O&&O!==w&&v.some((function(e){return e.value===O}))&&N(O)}var P=function(e){var t=e.currentTarget,n=S.indexOf(t),a=v[n].value;a!==w&&(E(t),N(a),null!=m&&k(m,a))},I=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=S.indexOf(e.currentTarget)+1;n=S[a]||S[0];break;case"ArrowLeft":var o=S.indexOf(e.currentTarget)-1;n=S[o]||S[S.length-1]}null==(t=n)||t.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,c.default)("tabs",{"tabs--block":l},h)},v.map((function(e){var t=e.value,n=e.label;return o.createElement("li",{role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,className:(0,c.default)("tabs__item",p,{"tabs__item--active":w===t}),key:t,ref:function(e){return S.push(e)},onKeyDown:I,onFocus:P,onClick:P},null!=n?n:t)}))),r?(0,o.cloneElement)(f.filter((function(e){return e.props.value===w}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},f.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==w})}))))}function u(e){var t=(0,r.default)();return o.createElement(d,(0,a.Z)({key:String(t)},e))}},82924:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n(67294).createContext(void 0)},79443:(e,t,n)=>{n.d(t,{Z:()=>a});const a=(0,n(67294).createContext)(void 0)},85350:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(67294),o=n(82924);const r=function(){var e=(0,a.useContext)(o.Z);if(null==e)throw new Error('"useThemeContext" is used outside of "Layout" component. Please see https://docusaurus.io/docs/api/themes/configuration#usethemecontext.');return e}},75960:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(87462),o=n(67294),r=n(24544),l=n(7694),i=n(13618),s="0.41.1",c="0.41.2-SNAPSHOT",p="0.9.0",d="0.46.0",u=n(85350);const m=function(e){var t=e.language,n=e.code.replace(/{{site.lithoVersion}}/g,s).replace(/{{site.soloaderVersion}}/g,p).replace(/{{site.lithoSnapshotVersion}}/g,c).replace(/{{site.flipperVersion}}/g,d).trim(),m=(0,u.Z)().isDarkTheme?i.Z:l.Z;return o.createElement(r.ZP,(0,a.Z)({},r.lG,{code:n,language:t,theme:m}),(function(e){var t=e.className,n=e.style,a=e.tokens,r=e.getLineProps,l=e.getTokenProps;return o.createElement("pre",{className:t,style:n},a.map((function(e,t){return o.createElement("div",r({line:e,key:t}),e.map((function(e,t){return o.createElement("span",l({token:e,key:t}))})))})))}))}},63860:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>c,contentTitle:()=>p,metadata:()=>d,toc:()=>u,default:()=>h});var a=n(87462),o=n(63366),r=(n(67294),n(3905)),l=n(55064),i=n(58215),s=(n(75960),["components"]),c={id:"hooks-for-spec-developers",title:"Hooks for Spec Developers"},p=void 0,d={unversionedId:"kotlin/hooks-for-spec-developers",id:"kotlin/hooks-for-spec-developers",isDocsHomePage:!1,title:"Hooks for Spec Developers",description:"One of the biggest changes in the Litho Kotlin API is the introduction of hooks: most of the APIs implemented with lifecycle methods in the Java Specs API (such as @OnCreateInitialState and @OnAttached) have hooks equivalents in the Kotlin API.",source:"@site/../docs/kotlin/hooks-for-spec-developers.mdx",sourceDirName:"kotlin",slug:"/kotlin/hooks-for-spec-developers",permalink:"/docs/kotlin/hooks-for-spec-developers",editUrl:"https://github.com/facebook/litho/edit/master/website/../docs/kotlin/hooks-for-spec-developers.mdx",tags:[],version:"current",frontMatter:{id:"hooks-for-spec-developers",title:"Hooks for Spec Developers"}},u=[{value:"useState",id:"usestate",children:[{value:"Side Effects in <code>@OnCreateInitialState</code>",id:"side-effects-in-oncreateinitialstate",children:[],level:3}],level:2},{value:"useEffect",id:"useeffect",children:[{value:"Changes to Attach/Detach Contract",id:"changes-to-attachdetach-contract",children:[],level:3},{value:"Listening to Prop/State Changes",id:"listening-to-propstate-changes",children:[],level:3}],level:2},{value:"useRef",id:"useref",children:[{value:"Example: Logging Seen State",id:"example-logging-seen-state",children:[],level:3}],level:2},{value:"useErrorBoundary",id:"useerrorboundary",children:[{value:"Example: Providing an Error State in UI",id:"example-providing-an-error-state-in-ui",children:[],level:3}],level:2}],m={toc:u};function h(e){var t=e.components,n=(0,o.Z)(e,s);return(0,r.mdx)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("p",null,"One of the biggest changes in the Litho Kotlin API is the introduction of hooks: most of the APIs implemented with lifecycle methods in the Java Specs API (such as @OnCreateInitialState and @OnAttached) have hooks equivalents in the Kotlin API."),(0,r.mdx)("p",null,"To familiarize yourself with the concept and rules for hooks, see the ",(0,r.mdx)("a",{parentName:"p",href:"/docs/mainconcepts/hooks-intro"},"Introduction to Hooks")," page."),(0,r.mdx)("p",null,"This page covers some of the main hooks and how they compare to their spec API equivalents."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"These docs are meant to be used by someone who is familiar with the Java Spec API and is now learning the Kotlin API.")," In this page, we'll go over the major hooks introduced in the Kotlin API and give code samples to demonstrate what they replace in the Java Spec API."),(0,r.mdx)("h2",{id:"usestate"},(0,r.mdx)("a",{parentName:"h2",href:"/docs/mainconcepts/use-state"},(0,r.mdx)("inlineCode",{parentName:"a"},"useState"))),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"useState")," allows a component to persist a variable across renders and replaces the ",(0,r.mdx)("inlineCode",{parentName:"p"},"@State"),", ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnCreateInitialState"),", and ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnUpdateState")," APIs. The code below shows a comparison of Spec API and Kotlin API code for the same component:"),(0,r.mdx)(l.Z,{groupId:"state",defaultValue:"kotlin_state",values:[{label:"Kotlin",value:"kotlin_state"},{label:"Java",value:"java_state"}],mdxType:"Tabs"},(0,r.mdx)(i.Z,{value:"kotlin_state",mdxType:"TabItem"},(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin",metastring:"file=sample/src/main/java/com/facebook/samples/litho/kotlin/documentation/CheckboxComponent.kt start=start_example end=end_example",file:"sample/src/main/java/com/facebook/samples/litho/kotlin/documentation/CheckboxComponent.kt",start:"start_example",end:"end_example"},"class CheckboxComponent : KComponent() {\n  override fun ComponentScope.render(): Component? {\n    val isChecked = useState { false }\n\n    return Column(style = Style.onClick { isChecked.update(!isChecked.value) }) {\n      child(\n          Image(\n              drawable =\n                  drawableRes(\n                      if (isChecked.value) {\n                        android.R.drawable.checkbox_on_background\n                      } else {\n                        android.R.drawable.checkbox_off_background\n                      })))\n    }\n  }\n}\n"))),(0,r.mdx)(i.Z,{value:"java_state",mdxType:"TabItem"},(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-java",metastring:"file=sample/src/main/java/com/facebook/samples/litho/java/onboarding/CheckboxComponentSpec.java start=start_example end=end_example",file:"sample/src/main/java/com/facebook/samples/litho/java/onboarding/CheckboxComponentSpec.java",start:"start_example",end:"end_example"},"@LayoutSpec\npublic class CheckboxComponentSpec {\n\n  @OnCreateLayout\n  static Component onCreateLayout(ComponentContext c, @State boolean isChecked) {\n\n    return Column.create(c)\n        .child(\n            Image.create(c)\n                .drawableRes(\n                    isChecked\n                        ? android.R.drawable.checkbox_on_background\n                        : android.R.drawable.checkbox_off_background))\n        .clickHandler(CheckboxComponent.onCheckboxClicked(c))\n        .build();\n  }\n\n  @OnUpdateState\n  static void updateCheckbox(StateValue<Boolean> isChecked) {\n    isChecked.set(!isChecked.get());\n  }\n\n  @OnEvent(ClickEvent.class)\n  static void onCheckboxClicked(ComponentContext c) {\n    CheckboxComponent.updateCheckbox(c);\n  }\n}\n")))),(0,r.mdx)("h3",{id:"side-effects-in-oncreateinitialstate"},"Side Effects in ",(0,r.mdx)("inlineCode",{parentName:"h3"},"@OnCreateInitialState")),(0,r.mdx)("p",null,"A common pattern in the Java Spec API was to perform side effects in ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnCreateInitialState")," (such as attaching a listener). Instead, any side effects like this should now be done with the ",(0,r.mdx)("a",{parentName:"p",href:"/docs/mainconcepts/use-effect"},"useEffect Hook"),", which provides functionality to clean up and handle prop changes."),(0,r.mdx)("h2",{id:"useeffect"},(0,r.mdx)("a",{parentName:"h2",href:"/docs/mainconcepts/use-effect"},(0,r.mdx)("inlineCode",{parentName:"a"},"useEffect"))),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"useEffect")," hook gives the ability to safely perform side-effects from a component and corresponds to the Java Spec API's ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnAttached"),"/",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnDetached")," lifecycle methods."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin"},'useEffect(username) {\n  println("I\'ve been attached with prop $username!")\n  onCleanup { println("I\'ve been detached with prop $username!") }\n}\n')),(0,r.mdx)("p",null,"In addition to the existing ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnAttached"),"/",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnDetached")," functionality, it provides the ability to perform side-effects in response to changes in committed props or state. Both the effect lambda and the cleanup lambda are invoked on the main thread, meaning it's safe to perform UI-thread confined side effects."),(0,r.mdx)("h3",{id:"changes-to-attachdetach-contract"},"Changes to Attach/Detach Contract"),(0,r.mdx)("p",null,"In the Java Spec API, ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnAttached"),"/",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnDetached")," would be called only once, when the component was first attached to/detached from the tree. This could lead to bugs where, for example, your component subscribes to a data store using a userId prop, and then that prop changes."),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"useEffect")," tries to solve this by taking a var-arg list of ",(0,r.mdx)("em",{parentName:"p"},"dependencies"),": any time any of these dependencies changes, the cleanup lambda (previously ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnDetached"),") will be called followed by the new effect lambda. If no dependencies are provided, the previous cleanup and new effect lambdas will be invoked again ",(0,r.mdx)("strong",{parentName:"p"},"every time a new layout is committed"),"."),(0,r.mdx)("h3",{id:"listening-to-propstate-changes"},"Listening to Prop/State Changes"),(0,r.mdx)("p",null,"An important functionality that ",(0,r.mdx)("inlineCode",{parentName:"p"},"useEffect")," adds over ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnAttached"),"/",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnDetached")," is the ability to trigger code when props/state change. For example, this can be used to trigger an animation as a side-effect whenever some prop changes:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin",metastring:"file=sample/src/main/java/com/facebook/samples/litho/kotlin/animations/animatedcounter/AnimatedCounter.kt start=start_example end=end_example",file:"sample/src/main/java/com/facebook/samples/litho/kotlin/animations/animatedcounter/AnimatedCounter.kt",start:"start_example",end:"end_example"},'class AnimatingCounter(private val count: Int) : KComponent() {\n  override fun ComponentScope.render(): Component? {\n    val animation = useRef<AnimatedAnimation?> { null }\n    val translationY = useBinding(0f)\n\n    useEffect(count) {\n      // Animate the text to a Y-offset based on count\n      val newAnimation = Animated.spring(translationY, to = count * 10.dp.toPixels().toFloat())\n      newAnimation.start()\n      animation.value = newAnimation\n\n      onCleanup { animation.value?.cancel() }\n    }\n\n    return Text(style = Style.translationY(translationY), text = "$count", textSize = 24.sp)\n  }\n}\n')),(0,r.mdx)("h2",{id:"useref"},(0,r.mdx)("a",{parentName:"h2",href:"/docs/mainconcepts/use-ref"},(0,r.mdx)("inlineCode",{parentName:"a"},"useRef"))),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"useRef")," hook allows a component to maintain a mutable reference that doesn't trigger a re-render when updated."),(0,r.mdx)("p",null,"It returns an instance of ",(0,r.mdx)("inlineCode",{parentName:"p"},"Ref")," which has a single mutable ",(0,r.mdx)("inlineCode",{parentName:"p"},"value")," property which should only be read/written on the UI thread. ",(0,r.mdx)("inlineCode",{parentName:"p"},"useRef")," can be used as a replacement for ",(0,r.mdx)("a",{parentName:"p",href:"/docs/mainconcepts/coordinate-state-actions/state-overview#lazy-state-updates"},"lazy state")," from the Spec API, though it has more uses beyond that."),(0,r.mdx)("h3",{id:"example-logging-seen-state"},"Example: Logging Seen State"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin",metastring:"file=sample/src/main/java/com/facebook/samples/litho/kotlin/documentation/LogOnceComponent.kt start=start_useref_example end=end_useref_example",file:"sample/src/main/java/com/facebook/samples/litho/kotlin/documentation/LogOnceComponent.kt",start:"start_useref_example",end:"end_useref_example"},"class LogOnceComponent : KComponent() {\n  override fun ComponentScope.render(): Component {\n    val hasLoggedVisible = useRef<Boolean> { false }\n\n    return Text(\n        style =\n            Style.onVisible {\n              // onVisible executes on the main thread, so it's safe to read/write hasLoggedVisible\n              if (!hasLoggedVisible.value) {\n                doLogVisible(androidContext)\n                hasLoggedVisible.value = true\n              }\n            },\n        text = \"I'll let you know when I'm visible, but only once!\")\n  }\n}\n")),(0,r.mdx)("h2",{id:"useerrorboundary"},(0,r.mdx)("a",{parentName:"h2",href:"/docs/mainconcepts/use-error-boundary"},(0,r.mdx)("inlineCode",{parentName:"a"},"useErrorBoundary"))),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"useErrorBoundary")," hook allows KComponents to catch and handle errors higher up in the tree and provide appropriate fallback, logging or retry mechanisms. It corresponds to the Java Spec API's ",(0,r.mdx)("inlineCode",{parentName:"p"},"@OnError")," functionality."),(0,r.mdx)("h3",{id:"example-providing-an-error-state-in-ui"},"Example: Providing an Error State in UI"),(0,r.mdx)("p",null,"A KComponent becomes an error boundary when it declares a ",(0,r.mdx)("inlineCode",{parentName:"p"},"useErrorBoundary")," hook. The example below shows how the implementation of a boundary that renders an error state compares between the Java Spec API and the Kotlin API:"),(0,r.mdx)(l.Z,{groupId:"error_boundary",defaultValue:"kotlin_state",values:[{label:"Kotlin",value:"kotlin_state"},{label:"Java",value:"java_state"}],mdxType:"Tabs"},(0,r.mdx)(i.Z,{value:"kotlin_state",mdxType:"TabItem"},(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-kotlin",metastring:"file=sample/src/main/java/com/facebook/samples/litho/kotlin/errors/KErrorBoundary.kt start=start_example end=end_example",file:"sample/src/main/java/com/facebook/samples/litho/kotlin/errors/KErrorBoundary.kt",start:"start_example",end:"end_example"},'class KErrorBoundary(private val childComponent: Component) : KComponent() {\n\n  override fun ComponentScope.render(): Component? {\n    val errorState = useState<Exception?> { null }\n    useErrorBoundary { exception: Exception -> errorState.update(exception) }\n\n    errorState.value?.let {\n      return Column(style = Style.margin(all = 16.dp)) {\n        child(KDebugComponent(message = "KComponent\'s Error Boundary", throwable = it))\n      }\n    }\n\n    return childComponent\n  }\n}\n'))),(0,r.mdx)(i.Z,{value:"java_state",mdxType:"TabItem"},(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-java",metastring:"file=sample/src/main/java/com/facebook/samples/litho/java/errors/ErrorBoundarySpec.java start=start_example end=end_example",file:"sample/src/main/java/com/facebook/samples/litho/java/errors/ErrorBoundarySpec.java",start:"start_example",end:"end_example"},'@LayoutSpec\npublic class ErrorBoundarySpec {\n\n  @OnCreateLayout\n  static Component onCreateLayout(\n      ComponentContext c, @Prop Component child, @State @Nullable Exception error) {\n\n    if (error != null) {\n      return DebugErrorComponent.create(c).message("Error Boundary").throwable(error).build();\n    }\n\n    return child;\n  }\n\n  @OnUpdateState\n  static void updateError(StateValue<Exception> error, @Param Exception e) {\n    error.set(e);\n  }\n\n  @OnError\n  static void onError(ComponentContext c, Exception error) {\n    ErrorBoundary.updateErrorSync(c, error);\n  }\n}\n')))),(0,r.mdx)("p",null,"Check out the main ",(0,r.mdx)("a",{parentName:"p",href:"/docs/mainconcepts/use-error-boundary"},(0,r.mdx)("inlineCode",{parentName:"a"},"useErrorBoundary"))," for more detailed information."))}h.isMDXComponent=!0},24544:(e,t,n)=>{n.d(t,{ZP:()=>h,lG:()=>l});var a=n(87410);const o={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]};var r=n(67294),l={Prism:a.default,theme:o};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}var c=/\r\n|\r|\n/,p=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},d=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},u=function(e,t){var n=e.plain,a=Object.create(null),o=e.styles.reduce((function(e,n){var a=n.languages,o=n.style;return a&&!a.includes(t)||n.types.forEach((function(t){var n=s({},e[t],o);e[t]=n})),e}),a);return o.root=n,o.plain=s({},n,{backgroundColor:null}),o};function m(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}const h=function(e){function t(){for(var t=this,n=[],a=arguments.length;a--;)n[a]=arguments[a];e.apply(this,n),i(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?u(e.theme,e.language):void 0;return t.themeDict=n})),i(this,"getLineProps",(function(e){var n=e.key,a=e.className,o=e.style,r=s({},m(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),l=t.getThemeDict(t.props);return void 0!==l&&(r.style=l.plain),void 0!==o&&(r.style=void 0!==r.style?s({},r.style,o):o),void 0!==n&&(r.key=n),a&&(r.className+=" "+a),r})),i(this,"getStyleForToken",(function(e){var n=e.types,a=e.empty,o=n.length,r=t.getThemeDict(t.props);if(void 0!==r){if(1===o&&"plain"===n[0])return a?{display:"inline-block"}:void 0;if(1===o&&!a)return r[n[0]];var l=a?{display:"inline-block"}:{},i=n.map((function(e){return r[e]}));return Object.assign.apply(Object,[l].concat(i))}})),i(this,"getTokenProps",(function(e){var n=e.key,a=e.className,o=e.style,r=e.token,l=s({},m(e,["key","className","style","token"]),{className:"token "+r.types.join(" "),children:r.content,style:t.getStyleForToken(r),key:void 0});return void 0!==o&&(l.style=void 0!==l.style?s({},l.style,o):o),void 0!==n&&(l.key=n),a&&(l.className+=" "+a),l})),i(this,"tokenize",(function(e,t,n,a){var o={code:t,grammar:n,language:a,tokens:[]};e.hooks.run("before-tokenize",o);var r=o.tokens=e.tokenize(o.code,o.grammar,o.language);return e.hooks.run("after-tokenize",o),r}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,a=e.code,o=e.children,r=this.getThemeDict(this.props),l=t.languages[n];return o({tokens:function(e){for(var t=[[]],n=[e],a=[0],o=[e.length],r=0,l=0,i=[],s=[i];l>-1;){for(;(r=a[l]++)<o[l];){var u=void 0,m=t[l],h=n[l][r];if("string"==typeof h?(m=l>0?m:["plain"],u=h):(m=d(m,h.type),h.alias&&(m=d(m,h.alias)),u=h.content),"string"==typeof u){var f=u.split(c),v=f.length;i.push({types:m,content:f[0]});for(var y=1;y<v;y++)p(i),s.push(i=[]),i.push({types:m,content:f[y]})}else l++,t.push(m),n.push(u),a.push(0),o.push(u.length)}l--,t.pop(),n.pop(),a.pop(),o.pop()}return p(i),s}(void 0!==l?this.tokenize(t,a,l,n):[a]),className:"prism-code language-"+n,style:void 0!==r?r.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(r.Component)},13618:(e,t,n)=>{n.d(t,{Z:()=>a});const a={plain:{color:"#F8F8F2",backgroundColor:"#282A36"},styles:[{types:["prolog","constant","builtin"],style:{color:"rgb(189, 147, 249)"}},{types:["inserted","function"],style:{color:"rgb(80, 250, 123)"}},{types:["deleted"],style:{color:"rgb(255, 85, 85)"}},{types:["changed"],style:{color:"rgb(255, 184, 108)"}},{types:["punctuation","symbol"],style:{color:"rgb(248, 248, 242)"}},{types:["string","char","tag","selector"],style:{color:"rgb(255, 121, 198)"}},{types:["keyword","variable"],style:{color:"rgb(189, 147, 249)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(98, 114, 164)"}},{types:["attr-name"],style:{color:"rgb(241, 250, 140)"}}]}},7694:(e,t,n)=>{n.d(t,{Z:()=>a});const a={plain:{color:"#393A34",backgroundColor:"#f6f8fa"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#999988",fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}},{types:["string","attr-value"],style:{color:"#e3116c"}},{types:["punctuation","operator"],style:{color:"#393A34"}},{types:["entity","url","symbol","number","boolean","variable","constant","property","regex","inserted"],style:{color:"#36acaa"}},{types:["atrule","keyword","attr-name","selector"],style:{color:"#00a4db"}},{types:["function","deleted","tag"],style:{color:"#d73a49"}},{types:["function-variable"],style:{color:"#6f42c1"}},{types:["tag","selector","keyword"],style:{color:"#00009f"}}]}}}]);